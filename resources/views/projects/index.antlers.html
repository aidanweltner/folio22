{{ push:head }}
  <title>All Projects // Aidan Weltner</title>
  {{# <meta name="description" content="{{ gallery_index:description }}"> #}}
  <link rel="canonical" href="{{ config:app:url }}/projects">
  <meta property="og:url" content="{{ config:app:url }}/projects">
  <link rel="shortcut icon" href="/assets/seo/favicon.png">
  <meta property="og:site_name" content="Aidan Weltner">
  <meta property="og:title" content="All Projects // Aidan Weltner">
  <meta property="og:description" content="{{# {{ gallery_index:description }} #}}">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en-US">
  <meta name="twitter:card" content="summary">
{{ /push:head}}

<div class="container mx-auto px-4 lg:px-6 pt-20 lg:pt-24 pb-16 lg:pb-20">
    {{ if get:page > 1 }}
    {{ else }}
        <header class="mb-4 lg:mb-6">
        <h1 class="font-header font-bold text-3xl lg:text-5xl text-coffee-800 dark:text-coffee-200 mb-4 lg:mb-8">Featured Projects</h1>
        </header>
        <section>
            <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3 lg:gap-6 mt-6 lg:mt-9">
            {{ collection:projects is_featured:is="true" limit="4" sort="start_date:desc" }}
                <li>
                    <article class="flex flex-col lg:flex-row-reverse lg:items-end justify-between border border-coffee-400 dark:border-coffee-800 rounded-lg p-2 lg:p-4">
                        <a href="{{ url }}" class="hover:opacity-60 w-full lg:w-3/5" title="{{ title }}">
                            {{ responsive:featured class="rounded-md" glide:width="1080"}}
                        </a>
                        <div class="pt-4 md:p-2 lg:p-4">
                            <ul class="flex gap-2">
                                {{ skills }}
                                    {{ partial:components/taxonomy_li :url="url" :title="title" }}
                                {{ /skills }}
                            </ul>
                            <a href="{{ url }}" title="{{ title }}">
                                <h3 class="text-2xl mt-4 lg:text-4xl font-header font-semibold text-coffee-800 dark:text-coffee-200">
                                    <span class="border-b-2 border-transparent hover:border-coffee-600 dark:hover:border-coffee-400 leading-tight">{{ title }}</span>
                                </h3>
                            </a>
                            <p class="lg:text-xl font-header text-coffee-700 dark:text-coffee-400">
                                <span class="sr-only">Project date(s):</span>
                                {{ if is_current }}
                                    <time datetime="{{ start_date format='Y-m-d' }}">{{ start_date format='F Y' }} - </time>
                                {{ else }}
                                    <time datetime="{{ start_date format='Y-m-d' }}">{{ start_date format='F Y' }} - </time>
                                    <time datetime="{{ end_date format='Y-m-d' }}">{{ end_date format='F Y' }}</time>
                                {{ endif }}
                            </p>
                        </div>
                    </article>
                </li>
            {{ /collection:projects }}
            </ul>
        </section>
    {{ /if }}
  <section class="py-10 lg:py-12">
    <div class="flex flex-col gap-2 pb-4 md:pb-0 border-b border-coffee-400 dark:border-coffee-800 md:border-none md:flex-row md:justify-between w-full md:items-center">
      <h2 class="font-header font-bold text-3xl lg:text-5xl text-coffee-800 dark:text-coffee-200 md:pb-3">All Projects</h2>
      <ul class="flex gap-4 lg:gap-8">
          {{ taxonomy from="project_status" sort="order:asc" }}
              <li>
                  <a href="/projects{{ url }}" title="{{ title }}" class="inline-flex items-center space-x-4">
                      <div class="w-2 h-2 rounded-full {{ marker }}"></div>
                      <span class="text-coffee-700 dark:text-coffee-400 lg:text-lg font-header">{{ title }}</span>
                  </a>
              </li>
          {{ /taxonomy }}
      </ul>
    </div>
    {{ collection:projects as="project" paginate="9" redirects="true" is_featured:isnt="true" sort="end_date:desc|start_date:desc" }}
        <table class="w-full">
            <tbody class="divide-y divide-coffee-400 dark:divide-coffee-800">
                {{ project }}
                    <tr class="py-4 grid sm:grid-cols-3 lg:grid-cols-4 gap-2">
                        <td class="sm:col-span-2">
                            <div class="flex items-center justify-between md:justify-start gap-4">
                                <div class="gap-4 inline-flex md:flex-row-reverse w-full md:w-auto justify-between md:justify-start items-center">
                                    <a href="{{ url }}" title="{{ title }}" target="{{ blueprint == 'link' ?= '_blank'  }}" class="text-xl font-header md:space-x-2">
                                        <span class="text-coffee-800 dark:text-coffee-200 font-semibold">{{ title }}</span>
                                        <span class="sr-only">Project date(s):</span>
                                        <br class="md:hidden">
                                        {{ if is_current }}
                                            <time class="text-coffee-600 dark:text-coffee-300" datetime="{{ start_date format='Y-m-d' }}">
                                                <span class="hidden lg:inline">{{ start_date format='M Y' }} -</span>
                                                <span class="lg:hidden">{{ start_date format='M y' }} -</span>
                                            </time>
                                        {{ else }}
                                            <time class="text-coffee-600 dark:text-coffee-300" datetime="{{ start_date format='Y-m-d' }}">
                                                <span class="hidden lg:inline">{{ start_date format='M Y' }} -</span>
                                                <span class="lg:hidden">{{ start_date format='M y' }} -</span>
                                            </time>
                                            <time class="text-coffee-600 dark:text-coffee-300" datetime="{{ end_date format='Y-m-d' }}">
                                                <span class="hidden lg:inline">{{ end_date format='M Y' }}</span>
                                                <span class="lg:hidden">{{ end_date format='M y' }}</span>
                                            </time>
                                        {{ endif }}
                                    </a>
                                    {{ project_status }}
                                        <div class="w-2 h-2 rounded-full {{ marker }}">
                                            <span class="sr-only">Project Status: {{ title }}</span>
                                        </div>
                                    {{ /project_status }}
                                </div>
                                <div class="inline-flex gap-2">
                                    {{ if blueprint == 'projects' }}
                                        <a href="{{ url }}" title="{{ title }}">
                                            {{ partial:heroicons/document-text-icon class="text-coffee-700 dark:text-coffee-400 w-6 h-6"}}
                                            <span class="sr-only">View case study</span>
                                        </a>
                                    {{ else }}
                                        <a href="{{ url }}" title="{{ title }}" target="_blank">
                                            {{ partial:heroicons/arrow-top-right-on-square-icon class="text-coffee-700 dark:text-coffee-400 w-6 h-6"}}
                                            <span class="sr-only">View site</span>
                                        </a>
                                    {{ /if }}
                                </div>
                            </div>
                        </td>
                        <td>
                            <ul class="inline-flex flex-wrap items-center gap-2">
                                {{ skills }}
                                {{ partial:components/taxonomy_li :url="url" :title="title" }}
                                {{ /skills }}
                            </ul>
                        </td>
                        <td class="hidden lg:flex justify-end gap-4 mt-0">
                        {{ if partner_title }}
                            {{ if partner_url }}
                                <a href="{{ partner_url }}" title="{{ partner_title }}" class="text-xl font-header text-coffee-800 dark:text-coffee-200 font-semibold">
                                    {{ partner_title }}
                                </a>
                                <a href="{{ partner_url }}" title="{{ partner_title }}">
                                    <span class="sr-only">View site</span>
                                    {{ partial:heroicons/arrow-top-right-on-square-icon class="text-coffee-700 dark:text-coffee-400 w-6 h-6"}}
                                </a>
                            {{ else }}
                                <p class="text-xl font-header text-coffee-800 dark:text-coffee-200 font-semibold">{{ partner_title }}</p>
                            {{ /if }}
                        {{ /if }}
                        </td>
                    </tr>
                {{ /project }}
            </tbody>
        </table>
        {{ partial:components/pagination entry_type="projects"}}
    {{ /collection:projects }}
  </section>
</div>